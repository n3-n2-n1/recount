<!-- Simple Dashboard Layout -->
<div class="layout">
  
  <!-- Fixed Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <h1>Recount
        </h1>
    </div>

    <nav class="nav">
      <a (click)="goToUsers()" 
         class="nav-link" 
         [class.active]="isActiveRoute('/users')">
          <i class="fas fa-wallet" style="font-size: 0.875rem; margin-right: 0.5rem;"></i>
          Cuentas
      </a>
      <a (click)="goToHistory()" 
         class="nav-link" 
         [class.active]="isActiveRoute('/history')">
        <i class="fas fa-history" style="font-size: 0.875rem; margin-right: 0.5rem;"></i>
        Historial
      </a>
      <a *ngIf="isSuperAdmin()" 
         (click)="goToTeam()" 
         class="nav-link" 
         [class.active]="isActiveRoute('/team')">
        <i class="fas fa-users" style="font-size: 0.875rem; margin-right: 0.5rem;"></i>
        Usuarios
      </a>
    </nav>

    <div class="sidebar-footer">
      <div class="user-info-container">
        <div class="user-info">
          <div class="user-name">{{ currentUser?.name }}</div>
          <div class="user-role">{{ currentUser?.role?.replace('_', ' ') }}</div>
        </div>
        <button (click)="toggleDarkMode()" class="theme-toggle background-color-transparent" [class.dark]="isDarkMode" [title]="isDarkMode ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro'">
          <i [class]="isDarkMode ? 'fas fa-sun' : 'fas fa-moon'"></i>
        </button>
      </div>
      <button (click)="logout()" class="btn btn-sm logout-btn">
        <i class="fas fa-sign-out-alt" style="font-size: 0.875rem; margin-right: 0.5rem;"></i>
        Salir
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="main">
    <header class="header">
      <h2>{{ getCurrentPageTitle() }}</h2>
    </header>

    <main class="content">
    <ng-content select="[page-content]"></ng-content>
    </main>

    <!-- Bridge Footer -->
    <app-footer></app-footer>
  </div>
</div>